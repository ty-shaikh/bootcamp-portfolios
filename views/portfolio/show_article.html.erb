<section class="mt-8 flex items-center justify-between">
  <div>
    <p class="text-red-500 font-semibold text-2xl lg:text-base">
      <a href="<%= @other_host ? "/" : "/#{@account.slug}" %>">
        &larr; Back to the portfolio
      </a>
    </p>
  </div>
  <div class="">
    <% if (@article.source_code) and (!@article.source_code.empty?) %>
    <a href="<%= @article.source_code %>" target="_blank">
      <button class="bg-blue-500 hover:bg-blue-700 text-white text-2xl lg:text-base font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline inline-flex items-center" type="button">
        <svg class="fill-current w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.7 9.3l4.8-4.8 1.4 1.42L2.84 10l4.07 4.07-1.41 1.42L0 10l.7-.7zm18.6 1.4l.7-.7-5.49-5.49-1.4 1.42L17.16 10l-4.07 4.07 1.41 1.42 4.78-4.78z"/></svg>
        <span>Source code</span>
      </button>
    </a>
    <% end %>
  </div>
</section>

<section class="mt-10">
  <%= erb :'portfolio/_article', locals: { article: @article } %>
</section>

<section class="mb-4">
  <div class="text-3xl lg:text-base rounded border border-gray-300 bg-white px-10 py-2 shadow-sm">
    <p class="markdown-text text-black"><%= @article.description %></p>
  </div>
</section>

<script>
  const markdownText = Array.from(document.querySelectorAll('.markdown-text'));
  markdownText.forEach(text => text.innerHTML = marked(text.innerHTML))
</script>
